// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Distributor {
  id                  String    @id @default(cuid())
  email               String    @unique
  password            String
  name                String
  company             String?
  phone               String?
  website             String?
  businessType        String?
  annualRevenue       String?
  yearsInBusiness     String?
  businessDescription String?
  address             String?
  city                String?
  state               String?
  zipCode             String?
  country             String?
  isActive            Boolean   @default(true)
  isApproved          Boolean   @default(false)
  lastLoginAt         DateTime?
  createdAt           DateTime  @default(now())
  updatedAt           DateTime  @updatedAt

  @@map("distributors")
}

model Category {
  id          String   @id @default(cuid())
  name        String   @unique
  description String?
  slug        String   @unique
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  products Product[]

  @@map("categories")
}

model Product {
  id             String   @id @default(cuid())
  name           String
  description    String?
  sku            String   @unique
  price          Float?
  category       Category @relation(fields: [categoryId], references: [id])
  categoryId     String
  images         Json?
  features       Json?
  specifications Json?
  isActive       Boolean  @default(true)
  isFeatured     Boolean  @default(false)
  tags           Json?
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  @@map("products")
}

model Contact {
  id        String   @id @default(cuid())
  name      String
  email     String
  phone     String?
  company   String?
  subject   String
  message   String
  isRead    Boolean  @default(false)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("contacts")
}
